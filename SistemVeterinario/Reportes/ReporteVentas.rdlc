<?xml version="1.0" encoding="utf-8"?>
<Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2008/01/reportdefinition"
  xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">
  <Body>
    <ReportItems>
      <Textbox Name="Textbox1">
        <Paragraphs>
          <Paragraph>
            <TextRuns>
              <TextRun>
                <Value>Reporte de Ventas Agrupadas</Value>
                <Style>
                  <FontSize>14pt</FontSize>
                  <FontWeight>Bold</FontWeight>
                </Style>
              </TextRun>
            </TextRuns>
          </Paragraph>
        </Paragraphs>
        <Top>0.25in</Top>
        <Left>0.25in</Left>
        <Height>0.5in</Height>
        <Width>6in</Width>
        <Style>
          <TextAlign>Center</TextAlign>
        </Style>
      </Textbox>

      <!-- Gráfico de ventas -->
      <Chart Name="ChartVentas">
        <Top>0.8in</Top>
        <Left>0.25in</Left>
        <Height>3in</Height>
        <Width>6in</Width>

        <!-- Series -->
        <ChartData>
          <ChartSeriesCollection>
            <ChartSeries Name="Series1">
              <ChartDataPoints>
                <ChartDataPoint>
                  <ChartDataPointValues>
                    <X>=Fields!periodo.Value</X>
                    <Y>=Sum(Fields!total_ventas.Value)</Y>
                  </ChartDataPointValues>
                  <ChartDataLabel>
                    <Style>
                      <FontSize>8pt</FontSize>
                    </Style>
                  </ChartDataLabel>
                </ChartDataPoint>
              </ChartDataPoints>
              <Type>Column</Type>
              <Style>
                <Border>
                  <Style>Solid</Style>
                </Border>
              </Style>
            </ChartSeries>
          </ChartSeriesCollection>
        </ChartData>

        <!-- Nueva jerarquía de categorías -->
        <ChartCategoryHierarchy>
          <ChartMembers>
            <ChartMember>
              <Label>Periodo</Label>
              <Group Name="Periodo">
                <GroupExpressions>
                  <GroupExpression>=Fields!periodo.Value</GroupExpression>
                </GroupExpressions>
              </Group>
            </ChartMember>
          </ChartMembers>
        </ChartCategoryHierarchy>

        <!-- Jerarquía de series (requerida aunque solo tengas una) -->
        <ChartSeriesHierarchy>
          <ChartMembers>
            <ChartMember Name="DefaultSeries">
              <Label>Default Series</Label>
            </ChartMember>
          </ChartMembers>
        </ChartSeriesHierarchy>

        <ChartAreas>
          <ChartArea Name="DefaultChartArea">
            <ChartCategoryAxes>
              <ChartAxis Name="CategoryAxis">
                <Style>
                  <FontSize>8pt</FontSize>
                </Style>
              </ChartAxis>
            </ChartCategoryAxes>
            <ChartValueAxes>
              <ChartAxis Name="ValueAxis">
                <Style>
                  <FontSize>8pt</FontSize>
                  <Format>C2</Format>
                </Style>
              </ChartAxis>
            </ChartValueAxes>
          </ChartArea>
        </ChartAreas>

        <ChartLegends>
          <ChartLegend Name="DefaultLegend">
            <Style>
              <FontSize>8pt</FontSize>
            </Style>
          </ChartLegend>
        </ChartLegends>
      </Chart>


      <!-- Tabla de datos -->
      <Tablix Name="Table1">
        <TablixBody>
          <TablixColumns>
            <TablixColumn>
              <Width>1.5in</Width>
            </TablixColumn>
            <TablixColumn>
              <Width>1.5in</Width>
            </TablixColumn>
            <TablixColumn>
              <Width>1.5in</Width>
            </TablixColumn>
            <TablixColumn>
              <Width>1.5in</Width>
            </TablixColumn>
          </TablixColumns>
          <TablixRows>
            <TablixRow>
              <Height>0.25in</Height>
              <TablixCells>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox2">
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>Período</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style />
                        </Paragraph>
                      </Paragraphs>
                      <Style />
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox3">
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>Cantidad de Facturas</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style />
                        </Paragraph>
                      </Paragraphs>
                      <Style />
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox4">
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>Total Ventas</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style />
                        </Paragraph>
                      </Paragraphs>
                      <Style />
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox5">
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>Promedio Ventas</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style />
                        </Paragraph>
                      </Paragraphs>
                      <Style />
                    </Textbox>
                  </CellContents>
                </TablixCell>
              </TablixCells>
            </TablixRow>
            <TablixRow>
              <Height>0.25in</Height>
              <TablixCells>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox6">
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=Fields!periodo.Value</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style />
                        </Paragraph>
                      </Paragraphs>
                      <Style />
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox7">
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=Fields!cantidad_facturas.Value</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style />
                        </Paragraph>
                      </Paragraphs>
                      <Style />
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox8">
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=FormatNumber(Fields!total_ventas.Value, 2)</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style />
                        </Paragraph>
                      </Paragraphs>
                      <Style />
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox9">
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=FormatNumber(Fields!promedio_ventas.Value, 2)</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style />
                        </Paragraph>
                      </Paragraphs>
                      <Style />
                    </Textbox>
                  </CellContents>
                </TablixCell>
              </TablixCells>
            </TablixRow>
          </TablixRows>
        </TablixBody>
        <Top>4in</Top>
        <Left>0.25in</Left>
        <Height>0.5in</Height>
        <Width>6in</Width>
        <Style>
          <Border>
            <Style>Solid</Style>
          </Border>
        </Style>
        <TablixColumnHierarchy>
          <TablixMembers>
            <TablixMember />
            <TablixMember />
            <TablixMember />
            <TablixMember />
          </TablixMembers>
        </TablixColumnHierarchy>
        <TablixRowHierarchy>
          <TablixMembers>
            <TablixMember>
              <Group Name="Detail" />
            </TablixMember>
          </TablixMembers>
        </TablixRowHierarchy>
      </Tablix>
    </ReportItems>
    <Height>5.75in</Height>
    <Style />
  </Body>
  <Width>6.5in</Width>
  <Page>
    <LeftMargin>1in</LeftMargin>
    <RightMargin>1in</RightMargin>
    <TopMargin>1in</TopMargin>
    <BottomMargin>1in</BottomMargin>
    <Style />
  </Page>
  <DataSources>
    <DataSource Name="DataSource1">
      <ConnectionProperties>
        <DataProvider>System.Data.DataSet</DataProvider>
        <ConnectString>/* Local Connection */</ConnectString>
      </ConnectionProperties>
    </DataSource>
  </DataSources>
  <DataSets>
    <DataSet Name="DataSet1">
      <Fields>
        <Field Name="periodo">
          <DataField>periodo</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="fecha_inicio">
          <DataField>fecha_inicio</DataField>
          <rd:TypeName>System.DateTime</rd:TypeName>
        </Field>
        <Field Name="fecha_fin">
          <DataField>fecha_fin</DataField>
          <rd:TypeName>System.DateTime</rd:TypeName>
        </Field>
        <Field Name="cantidad_facturas">
          <DataField>cantidad_facturas</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
        <Field Name="total_ventas">
          <DataField>total_ventas</DataField>
          <rd:TypeName>System.Decimal</rd:TypeName>
        </Field>
        <Field Name="promedio_ventas">
          <DataField>promedio_ventas</DataField>
          <rd:TypeName>System.Decimal</rd:TypeName>
        </Field>
      </Fields>
      <Query>
        <DataSourceName>DataSource1</DataSourceName>
        <CommandText>/* Local Query */</CommandText>
      </Query>
    </DataSet>
  </DataSets>
  <rd:ReportUnitType>Inch</rd:ReportUnitType>
  <rd:ReportID>b1994e0e-d0f8-4593-90e4-e62fdec20e26</rd:ReportID>
</Report>